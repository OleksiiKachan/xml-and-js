<!DOCTYPE>
<html>
<head>
  <title>Json to xml</title>
  <style>
    #prettyList {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr;
    }

    #prettyList div {
      width: 300px;
      border: 1px solid black;
      padding: 16px;
      margin: 8px;
      border-radius: 16px;
    }

    #prettyList div .fullName {
      font-weight: bold;
    }
    
  </style>
</head>
<body>
  <div id="prettyList">
  </div>

  <script>
    const xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          const xmlNode = this.responseXML
          const persons = xmlNode.getElementsByTagName('person')
          console.log(persons)

          for (let i = 0; i < persons.length; i++) {
            const person = persons[i]
            
            const id = person.getElementsByTagName("id")[0].childNodes[0].nodeValue
            const firstName = person.getElementsByTagName("first_name")[0].childNodes[0].nodeValue
            const lastname = person.getElementsByTagName("last_name")[0].childNodes[0].nodeValue
            const email = person.getElementsByTagName("email")[0].childNodes[0].nodeValue
            const gender = person.getElementsByTagName("gender")[0].childNodes[0].nodeValue
            const ipaddress = person.getElementsByTagName("ip_address")[0].childNodes[0].nodeValue

            const prettyList = document.getElementById('prettyList')

            const templateString = `<div>
                                      <p class="fullName">${firstName} ${lastname}</p>
                                      <p>Gender: ${gender}, id: ${id}</p>
                                      <p>${email}</p>
                                      <p>${ipaddress}</p>
                                    </div>`

            const temp = document.createElement('p')
            temp.innerHTML = templateString
            
            prettyList.append(temp.firstChild)
          }
        }
      };
      xhttp.open("GET", "people.xml", true);
      xhttp.send();
  </script>
</body>
</html>