<!DOCTYPE html>
<html lang="en">
    <body>
        <ol id="list"></ol>
        <script>

            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function (){
            if (this.readyState == 4 && this.status == 200) {
            displayData(this.responseXML);
                }
            };
            xhr.open("GET", "customers.xml", true);
            xhr.send();

            const stringToNode = value =>{
                 const template=document.createElement('template');
                 const html= value.trim();
                 template.innerHTML = html;
                 return template.content.firstChild;
            }



            const parseCustomers =customers =>{
                const name=customers.getElementsByTagName('name')[0].childNodes[0].nodeValue;
                const address=customers.getElementsByTagName('address')[0].childNodes[0].nodeValue;
                const phone=customers.getElementsByTagName('phone')[0].childNodes[0].nodeValue;
                const email=customers.getElementsByTagName('email')[0].childNodes[0].nodeValue;

                const custID=customers.getElementById('custID')[0].childNodes[0].nodeValue;

                return {
                    name,
                    address,
                    phone,
                    email
                };
            }



            const createCustomers = (parsedCustomers) =>{
        const content = `
        <li>
            <article>
            <h3>${parsedCustomers.name}</h3>
            <div>${parsedCustomers.phone}</div>
            <div>${parsedCustomers.address}</div>

            <div>${parsedCustomers.email}</div>

            </article>

        </li>
        `;

        return stringToNode(content);
      };

        
      const displayData =(xmlDoc) =>{
        const list=document.getElementById('list');

        const customer = xmlDoc.getElementsByTagName('customer');

        for(let index = 0; index < customer.length; index++){
            const customers = customer[index];
            const parsedCustomers=parseCustomers(customers);

            const customerElement=createCustomers(parsedCustomers);
            list.appendChild(customerElement);
        }
      }



        </script>
    </body>
</html>