<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Project </title>
        <h1> Stock Market</h1>
    </head>

<body>
    <ol id="stockmarket"></ol>
<script>

const xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function(){
            if (this.readyState === 4 && this.status ===200){
                const xmlDoc = this.responseXML

                const marketNode = xmlDoc.getElementsByTagName(`market`);
                const listElement = document.getElementById(`stockmarket`);

                for (let index = 0; index < marketNode.length; index++) {
          const market = marketNode[index];

          const ID = market.getAttribute(`id`)
          const Name=  market.getElementsByTagName(`name`)[0].childNodes[0].nodeValue
         const Currency = market.getElementsByTagName(`currency`)[0].childNodes[0]
                .nodeValue 
            const Street = market.getElementsByTagName(`street`)[0].childNodes[0]
                .nodeValue
         const City = market.getElementsByTagName(`city`)[0].childNodes[0].nodeValue
          const Region = market.getElementsByTagName(`region`)[0].childNodes[0].nodeValue
          const Country = market.getElementsByTagName(`country`)[0].childNodes[0].nodeValue
          

                 




         
                const stocks = xmlDoc.getElementsByTagName(`stock`)
                
        for (let j = 0; j < stocks.length; j++) {
           const stock =  stocks[j]

            const stockID = stock.getAttribute(`symbol`)
            const stockName = stock.getElementsByTagName(`name`)[0].childNodes[0].nodeValue
            const sector = stock.getElementsByTagName(`sector`)[0].childNodes[0].nodeValue
            const industry = stock.getElementsByTagName(`industry`)[0].childNodes[0].nodeValue
            const marketcap = stock.getElementsByTagName(`marketcap`)[0].childNodes[0].nodeValue
            const price = stock.getElementsByTagName(`price`)[0].childNodes[0].nodeValue
        
          
            
        
        
        


        

        const outputString = `<dl>
                                  <dt> ID:  ${ID}</dt>
                                  <dt> Name:  ${Name}</dt>
                                  <dt> Currency: ${Currency}</dt>
                                  <dt> Street: ${Street}</dt>
                                  <dt> City: ${City}</dt>
                                  <dt> Region: ${Region}</dt>
                                  <dt> Country: ${Country}</dt>
                                  <dt>stockID: ${stockID}</dt>
                                  <dd>stockNAme: ${stockName}</dd>
                                  <dd>sector: ${sector}</dd>
                                  <dd>industry: ${industry}</dd>            
                                  <dd>marketcap: ${marketcap}</dd>
                                  <dd>Price: ${price}</dd>
                                
                                
                                <dl>`

                                const tempP = document.createElement('p')
          tempP.innerHTML = outputString

          listElement.appendChild(tempP.firstChild)

                              }

            
        }

      }
    }

        xhttp.open ("GET", "stockMarket.xml", true);
        xhttp.send()

        </script>
        </body>
        </html>

        